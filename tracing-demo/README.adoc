== Tracing demos

- HTTP gateway demo
- add tracer
- Tracing integrations
  - https://vertx.io/docs/vertx-zipkin/java/
  - https://vertx.io/docs/vertx-opentelemetry/java/
  - https://vertx.io/docs/vertx-opentracing/java/
- integration of tracer with Vert.x client/server
  - https://vertx.io/docs/vertx-redis-client/java/#_tracing_commands
  - https://vertx.io/docs/vertx-pg-client/java/#_tracing_queries
  - https://vertx.io/docs/vertx-kafka-client/java/#_automatic_trace_propagation
  - https://vertx.io/docs/vertx-cassandra-client/java/#_tracing_queries
  - gRPC
- otherwise can be obtained from the context depending on the tracer implementation
- duplicated context and propagation


[source,java]
----
Vertx vertx = Vertx.builder().withTracer(
  new VertxTracerFactory() {
    @Override
    public VertxTracer tracer(TracingOptions options) {
      return new VertxTracer() {
        @Override
        public Object receiveRequest(Context context, SpanKind kind, TracingPolicy policy, Object request, String operation, Iterable headers, TagExtractor tagExtractor) {
          String path = ((io.vertx.core.spi.observability.HttpRequest) request).uri();
          System.out.println("receiveRequest " + path);
          return path;
        }
        @Override
        public void sendResponse(Context context, Object response, Object payload, Throwable failure, TagExtractor tagExtractor) {
          System.out.println("sendResponse " + payload);
        }
        @Override
        public Object sendRequest(Context context, SpanKind kind, TracingPolicy policy, Object request, String operation, BiConsumer headers, TagExtractor tagExtractor) {
          String path = ((io.vertx.core.spi.observability.HttpRequest) request).uri();
          System.out.println("sendRequest " + path);
          return path;
        }
        @Override
        public void receiveResponse(Context context, Object response, Object payload, Throwable failure, TagExtractor tagExtractor) {
          System.out.println("receiveResponse " + payload);
        }
      };
    }
  }
).build();
----
